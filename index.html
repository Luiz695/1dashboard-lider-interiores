<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Análise - Produtos</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="dashboard-header__top">
                <div class="header-left">
                    <h1>Dashboard de Análise - Produtos</h1>
                    <span class="item-count" id="itemCount">3 ITENS</span>
                </div>
            </div>
            <!-- Banner opcional: insira conteúdo dinâmico conforme necessário -->
            <div class="dashboard-banner" id="dashboardBanner" aria-live="polite" aria-atomic="true"></div>
        </header>

        <!-- Filters Section -->
        <section class="filters-section">
            <div class="filters-container">
                <div class="filter-group">
                    <label for="linhaReceitaFilter" class="filter-label">Linha de Receita</label>
                    <select id="linhaReceitaFilter" class="form-control">
                        <option value="Todos">Todos</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="mesFilter" class="filter-label">Mês</label>
                    <select id="mesFilter" class="form-control">
                        <option value="Todos">Todos</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="anoFilter" class="filter-label">Ano</label>
                    <select id="anoFilter" class="form-control">
                        <option value="Todos">Todos</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="localizacaoFilter" class="filter-label">Localização</label>
                    <select id="localizacaoFilter" class="form-control">
                        <option value="Todos">Todos</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="concorrenteFilter" class="filter-label">Concorrente</label>
                    <select id="concorrenteFilter" class="form-control">
                        <option value="Todos">Todos</option>
                    </select>
                </div>
                <div class="filter-actions">
                    <button class="btn btn--secondary" id="applyFilterBtn">Aplicar Filtro</button>
                    <button class="btn btn--outline" id="clearFilterBtn">Limpar</button>
                    <button class="btn btn--primary" id="cadastrarBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Cadastrar Novo Item
                    </button>
                </div>
            </div>
        </section>

        <!-- Main Content -->
        <main class="dashboard-main">
            <div class="comparison-container">
                <button class="nav-btn nav-btn--prev" id="prevBtn" aria-label="Anterior">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"></polyline>
                    </svg>
                </button>
                <!-- Produto Lider -->
                <div class="product-column product-column--lider">
                    <h2 class="column-title">PRODUTO LIDER</h2>
                    <div class="product-card">
                        <div class="product-image" id="otimaImage">
                            <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="camera-icon">
                                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                                <circle cx="12" cy="13" r="4"/>
                            </svg>
                        </div>
                        <div class="product-name" id="otimaName">Cadeira Executiva Premium</div>
                        <div class="product-info">
                            <div class="info-grid">
                                <div class="info-card">
                                    <h3>Preço Tabela</h3>
                                    <p class="price" data-value="50000" id="otimaPrecoTabela">R$ 50.000,00</p>
                                </div>
                                <div class="info-card">
                                    <h3>Preço Promocional</h3>
                                    <p class="price promotional" data-value="7500" id="otimaPrecoPromocional">R$ 7.500,00</p>
                                </div>
                                <div class="info-card">
                                    <h3>IC REGULAR</h3>
                                    <p class="percentage" id="otimaIcRegular">—</p>
                                </div>
                                <div class="info-card">
                                    <h3>IC PROMOCIONAL</h3>
                                    <p class="percentage" id="otimaIcPromocional">—</p>
                                </div>
                                <div class="info-card">
                                    <h3>Desconto Política</h3>
                                    <p class="percentage">
                                        <span class="discount-indicator" id="otimaDescontoPolitica">—</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Produto Concorrente -->
                <div class="product-column product-column--concorrente">
                    <h2 class="column-title">PRODUTO CONCORRENTE</h2>
                    <div class="product-card">
                        <div class="product-image" id="concorrenteImage">
                            <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="camera-icon">
                                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                                <circle cx="12" cy="13" r="4"/>
                            </svg>
                        </div>
                        <div class="product-name" id="concorrenteName">Herman Miller Aeron</div>
                        <div class="product-info">
                            <div class="info-grid">
                                <div class="info-card">
                                    <h3>Preço Tabela</h3>
                                    <p class="price" data-value="11500" id="concorrentePrecoTabela">R$ 11.500,00</p>
                                </div>
                                <div class="info-card">
                                    <h3>Preço Promocional</h3>
                                    <p class="price promotional" data-value="9250" id="concorrentePrecoPromocional">R$ 9.250,00</p>
                                </div>
                                <div class="info-card">
                                    <h3>IC REGULAR</h3>
                                    <p class="percentage" id="concorrenteIcRegular">—</p>
                                </div>
                                <div class="info-card">
                                    <h3>IC PROMOCIONAL</h3>
                                    <p class="percentage" id="concorrenteIcPromocional">—</p>
                                </div>
                                <div class="info-card">
                                    <h3>Desconto Concorrente</h3>
                                    <p class="percentage">
                                        <span class="discount-indicator" id="concorrenteDesconto">—</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="nav-btn nav-btn--next" id="nextBtn" aria-label="Próximo">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9,18 15,12 9,6"></polyline>
                    </svg>
                </button>
            </div>

            <!-- Export Section -->
            <section class="export-section">
                <div class="export-container">
                    <button class="btn btn--secondary" id="exportBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7,10 12,15 17,10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Exportar Dados
                    </button>
                    <label for="importInput" class="btn btn--outline" id="importBtn" title="O arquivo CSV deve conter as colunas: Linha de Receita, Mês, Ano, Localização, Produto Líder, Preço Tabela Líder, Preço Promocional Líder, Concorrente, Preço Tabela Concorrente, Preço Promocional Concorrente, Pesquisador e Record.">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16v16H4z"></path>
                            <polyline points="8,12 11,15 16,9"></polyline>
                        </svg>
                        Importar CSV
                    </label>
                    <input type="file" id="importInput" accept=".csv" hidden>
                    <span class="export-info" id="exportInfo">0 itens exportáveis</span>
                </div>
            </section>

            <!-- Tabela Comparativa -->
            <section class="comparison-table-section">
                <h2 class="table-title">Análise Comparativa</h2>
                <div class="table-container">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Linha de Receita</th>
                                <th>Período</th>
                                <th>Localização</th>
                                <th>Produto Lider</th>
                                <th>Concorrente</th>
                                <th>Desconto Política</th>
                                <th>Desconto Concorrente</th>
                                <th>Pesquisador</th>
                                <th>Record</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal de Cadastro -->
    <div class="modal hidden" id="cadastroModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Cadastrar Novo Item</h2>
                <button class="modal-close" id="modalCloseBtn" aria-label="Fechar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="cadastroForm">
                    <!-- Informações Gerais -->
                    <div class="form-section">
                        <h3>Informações Gerais</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="modalLinhaReceita" class="form-label">Linha de Receita *</label>
                                <select id="modalLinhaReceita" class="form-control" required>
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="modalMes" class="form-label">Mês da Pesquisa *</label>
                                <select id="modalMes" class="form-control" required>
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="modalAno" class="form-label">Ano da Pesquisa *</label>
                                <input type="number" id="modalAno" class="form-control" required min="2000" placeholder="2024">
                            </div>
                            <div class="form-group">
                                <label for="modalLocalizacao" class="form-label">Localização *</label>
                                <select id="modalLocalizacao" class="form-control" required>
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row form-row--single">
                            <div class="form-group">
                                <label for="modalPesquisador" class="form-label">Pesquisador *</label>
                                <input type="text" id="modalPesquisador" class="form-control" required placeholder="Nome do pesquisador">
                            </div>
                        </div>
                    </div>

                    <!-- Produto Lider -->
                    <div class="form-section">
                        <h3>Produto Lider</h3>
                        <div class="upload-section">
                            <label class="form-label">Foto do Produto</label>
                            <div class="upload-area" id="uploadOtima">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                    <circle cx="8.5" cy="8.5" r="1.5"/>
                                    <polyline points="21,15 16,10 5,21"/>
                                </svg>
                                <p>Clique ou arraste uma imagem aqui</p>
                                <input type="file" accept="image/*" style="display: none;">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="modalOtimaNome" class="form-label">Nome do Produto *</label>
                                <input type="text" id="modalOtimaNome" class="form-control" required placeholder="Nome do produto lider">
                            </div>
                            <div class="form-group">
                                <label for="modalOtimaPrecoTabela" class="form-label">Preço Tabela (R$) *</label>
                                <input type="number" id="modalOtimaPrecoTabela" class="form-control" step="0.01" required placeholder="0,00">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="modalOtimaPrecoPromocional" class="form-label">Preço Promocional (R$) *</label>
                                <input type="number" id="modalOtimaPrecoPromocional" class="form-control" step="0.01" required placeholder="0,00">
                            </div>
                            <div class="form-group">
                                <label class="form-label">IC REGULAR</label>
                                <p class="form-static" id="modalOtimaIcRegular">—</p>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">IC PROMOCIONAL</label>
                                <p class="form-static" id="modalOtimaIcPromocional">—</p>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Desconto Política</label>
                                <p class="form-static">
                                    <span class="discount-indicator" id="modalOtimaDescontoPolitica">—</span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Produto Concorrente -->
                    <div class="form-section">
                        <h3>Produto Concorrente</h3>
                        <div class="upload-section">
                            <label class="form-label">Foto do Produto</label>
                            <div class="upload-area" id="uploadConcorrente">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                    <circle cx="8.5" cy="8.5" r="1.5"/>
                                    <polyline points="21,15 16,10 5,21"/>
                                </svg>
                                <p>Clique ou arraste uma imagem aqui</p>
                                <input type="file" accept="image/*" style="display: none;">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="modalConcorrenteNome" class="form-label">Nome do Produto *</label>
                                <input type="text" id="modalConcorrenteNome" class="form-control" required placeholder="Nome do produto concorrente">
                            </div>
                            <div class="form-group">
                                <label for="modalConcorrentePrecoTabela" class="form-label">Preço Tabela (R$) *</label>
                                <input type="number" id="modalConcorrentePrecoTabela" class="form-control" step="0.01" required placeholder="0,00">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="modalConcorrentePrecoPromocional" class="form-label">Preço Promocional (R$) *</label>
                                <input type="number" id="modalConcorrentePrecoPromocional" class="form-control" step="0.01" required placeholder="0,00">
                            </div>
                            <div class="form-group">
                                <label class="form-label">IC REGULAR</label>
                                <p class="form-static" id="modalConcorrenteIcRegular">—</p>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">IC PROMOCIONAL</label>
                                <p class="form-static" id="modalConcorrenteIcPromocional">—</p>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Desconto Concorrente</label>
                                <p class="form-static">
                                    <span class="discount-indicator" id="modalConcorrenteDesconto">—</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn--outline" id="modalCancelBtn">Cancelar</button>
                <button type="submit" form="cadastroForm" class="btn btn--primary" id="modalSalvarBtn">Salvar Item</button>
            </div>
        </div>
    </div>

    <!-- Modal de Exportação -->
    <div class="modal hidden" id="exportModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h2>Exportar Dados</h2>
                <button class="modal-close" id="exportModalCloseBtn" aria-label="Fechar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p>Selecione o formato para exportação:</p>
                <div class="export-options">
                    <button class="btn btn--outline export-option" data-format="csv">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                        </svg>
                        CSV
                    </button>
                    <button class="btn btn--outline export-option" data-format="excel">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                        </svg>
                        Excel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Exclusão -->
    <div class="modal hidden" id="deleteModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h2>Excluir Item</h2>
                <button class="modal-close" id="deleteModalCloseBtn" aria-label="Fechar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="deleteConfirmForm" class="delete-modal__form">
                    <p class="delete-modal__description">
                        Tem certeza de que deseja excluir este item? Essa ação não poderá ser desfeita.
                    </p>
                    <label for="deletePasswordInput" class="form-label">Senha de confirmação</label>
                    <input type="password" id="deletePasswordInput" class="form-control" placeholder="Digite a senha de exclusão" autocomplete="current-password" required>
                    <p class="form-feedback" id="deletePasswordError" aria-live="assertive"></p>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn--outline" id="deleteModalCancelBtn">Cancelar</button>
                <button type="submit" form="deleteConfirmForm" class="btn btn--danger" id="deleteModalConfirmBtn">Excluir Item</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
